@using Eating2.Business.ViewModels;
@using PagedList;
@using PagedList.Mvc;
@using Eating2.AppConfig
@model PagedList.IPagedList<FoodViewModel>

@{
    Layout = "../Shared/_LayoutForUser.cshtml";
}

<!-- Carousel
================================================== -->
<div id="myCarousel" class="carousel slide" data-ride="carousel" data-interval="3000">
    <!-- Indicators -->
    <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner">
        <div class="item active">
            <img class="image-blur" src="../uploads/photo/cover1.jpg">
            <div class="container">
                <div class="carousel-caption">
                </div>
            </div>
        </div>
        <div class="item">
            <img class="image-blur" src="../uploads/photo/cover2.jpg">
            <div class="container">
                <div class="carousel-caption">
                </div>
            </div>
        </div>
        <div class="item">
            <img class="image-blur" src="../uploads/photo/cover3.jpg">
            <div class="container">
                <div class="carousel-caption">
                </div>
            </div>
        </div>
    </div>

    <div id="searchForm" style="position:absolute; top:40%" class="col-xs-12">
        <div class="col-md-4 col-md-offset-4" style="position:center">
            @*<h2 style="color:white">Hôm nay ăn gì ?</h2>*@
            @*<p class="lead">Cùng tìm kiếm những địa điểm ăn uống xung quanh mình!</p>*@
            @Html.Action("FilterForFood", "Filter", new { area = "" })
        </div>
    </div>


    <!-- Controls -->
    <a class="left carousel-control" href="#myCarousel" data-slide="prev">
        <i class="glyphicon glyphicon-chevron-left"></i>
    </a>
    <a class="right carousel-control" href="#myCarousel" data-slide="next">
        <i class="glyphicon glyphicon-chevron-right"></i>
    </a>
</div>
<!-- /.carousel -->

<br />
<div>
    <h3>Mới nhất</h3>
    <hr />
    <b>Sắp xếp theo:</b>

    <button class="btn btn-default" onclick="style"> @Html.SortableLink(Request, "Name", "Tên món ăn") </button>

    <button class="btn btn-default"> @Html.SortableLink(Request, "Cost", "Giá")</button>

    <button class="btn btn-default"> @Html.SortableLink(Request, "StoreNameDisplayOnly", "Cửa hàng") </button>

    <button class="btn btn-default"> @Html.SortableLink(Request, "DistrictDisplayOnly", "Khu vực") </button>

    <button class="btn btn-default"> @Html.SortableLink(Request, "AveragePoint", "Đánh giá") </button>


    @*<th>
            <h4>@Html.SortableLink(Request, "AveragePoint", "Đánh giá")</h4>
        </th>*@
</div>
<br />
<div class="row">
    @foreach (var item in Model)
    {
        <div class="col-sm-4 col-xs-6 col-md-3 col-lg-2 ">
            <div class="card image-bordered btn btn-default" style="width: 195px; padding:4px 4px 4px 4px" onclick="@("window.location.href='" + @Url.Action("DetailsForUser", "User", new { Id = item.ID }) + "'");">
                <div class="table-bordered">
                    <img class="card-img-top" src="@Url.Content(item.FoodPictureURL)" alt="Image Food" width="175" height="170">

                    <div class="card-block" style="padding:3px; background-color:#f5efd1; ">

                        <h4 class="card-title"> @Html.DisplayFor(modelItem => item.Name)</h4>

                        <p class="card-text" style="color:orangered"> @String.Format("{0:0,0đ}", item.Cost)</p>

                        <p class="card-text"> @Html.DisplayFor(modelItem => item.StoreNameDisplayOnly)</p>

                        <p class="card-text" style=""><b>Khu vực: @Html.DisplayFor(modelItem => item.DistrictDisplayOnly)</b></p>

                        <p class="card-text" style="display:inline">
                            @String.Format("{0:0.00}", item.AveragePoint) <div style="display:inline">♥   (</div>
                            @Html.DisplayFor(modelItem => item.NumberOfRate)<div style="display:inline"> lượt)</div>
                        </p>

                        @*@Html.ActionLink("Chi tiết", "DetailsForUser", "User", new { Id = item.ID }, new { style = "color:white", @class = "btn btn-info" })*@

                    </div>
                </div>
            </div>

            <hr />
        </div>
    }
</div>

@Html.PagedListPager(Model, page => Request.AddQueryString(new KeyValuePair<string, string>("p", page.ToString())))



